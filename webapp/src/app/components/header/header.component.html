<header class="site-header bg-gray-900 text-white">
  <!-- Top Bar -->
  <div class="top-bar flex flex-wrap items-center justify-between px-4 py-2">

    <!-- Logo -->
    <div class="logo cursor-pointer" routerLink="/">
      <img
        src="https://i.postimg.cc/hP3TqqKP/white-text-no-background.png"
        alt="Website Logo"
        class="h-10"
      />
    </div>

    <!-- Cart Icon & Hamburger (Mobile only) -->
    <div class="flex items-center gap-4 md:hidden">
      <a routerLink="/cart" class="relative">
        <mat-icon>shopping_cart</mat-icon>
        <span
          *ngIf="cartItemCount > 0"
          class="absolute -top-1 -right-2 bg-red-600 text-white text-xs font-bold rounded-full px-1.5 h-5 min-w-[1.25rem] flex items-center justify-center leading-none"
        >
          {{ cartItemCount }}
        </span>
      </a>
      <button (click)="mobileMenuOpen = !mobileMenuOpen">
        <i class="fas fa-bars text-xl"></i>
      </button>
    </div>

    <!-- Search Bar (Only shown on md and above) -->
    <div class="search-bar hidden md:flex items-center flex-1 mx-4">
      <input
        type="text"
        placeholder="Search..."
        [(ngModel)]="searchTerm"
        (keyup.enter)="onSearch($event)"
        class="border rounded-l px-3 py-1 w-full max-w-md text-black"
      />
      <button type="submit" class="bg-gray-700 text-white px-3 py-1 rounded-r">
        <i class="fas fa-search"></i>
      </button>
    </div>

    <!-- Profile & Actions (Hidden on mobile, shown on md+) -->
    <div class="profile hidden md:flex gap-4 items-center">
      <a routerLink="/wishlists" class="relative">
        <mat-icon class="text-red-500">favorite</mat-icon>
      </a>

      <a routerLink="/cart" class="relative">
        <mat-icon>shopping_cart</mat-icon>
        <span
          *ngIf="cartItemCount > 0"
          class="absolute -top-1 -right-2 bg-red-600 text-white text-xs font-bold rounded-full px-1.5 h-5 min-w-[1.25rem] flex items-center justify-center leading-none"
        >
          {{ cartItemCount }}
        </span>
      </a>

      <a routerLink="/orders">Orders</a>
      <a routerLink="/login" class="ml-2">Log In</a>
      <a routerLink="/register" class="ml-2">Register</a>
    </div>
  </div>

  <!-- Mobile Menu (no cart shown here) -->
  <div *ngIf="mobileMenuOpen" class="md:hidden px-4 py-2 space-y-2 bg-gray-800 text-white">
    <div class="flex flex-col gap-2 pt-2">
      <a routerLink="/wishlists">Wishlist</a>
      <!-- Cart REMOVED from mobile menu -->
      <a routerLink="/orders">Orders</a>
      <a routerLink="/login">Log In</a>
      <a routerLink="/register">Register</a>
    </div>
  </div>

  <!-- Category Menu -->
  <nav class="category-menu bg-gray-800 py-2">
    <ul class="flex flex-wrap space-x-2 md:space-x-4 justify-center px-2 text-sm md:text-base">
      <li
        *ngFor="let category of categoryList"
        (click)="searchCategory(category._id!)"
        class="cursor-pointer hover:text-orange-400"
      >
        {{ category.name }}
      </li>
    </ul>
  </nav>
</header>
